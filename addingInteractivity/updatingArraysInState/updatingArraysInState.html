<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="updatingArraysInState.css">
  <title>Updating Arrays in State</title>
</head>
<body>
  <!-- Div for rendering -->
  <div id="main"></div>

  <!-- Scripts for React, React DOM & Babel -->
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/jsx">
    const objectLink = "https://react.dev/learn/updating-objects-in-state"
    const immerLink = "https://react.dev/learn/updating-arrays-in-state#write-concise-update-logic-with-immer"

    function UpdatingArraysInState(){
      return(
        <>
          <h1>Updating Arrays in State</h1>
          <p>Arrays are mutable in JavaScrit, <b>but you should treat them as immutable whe you store them in state</b>. Just like with objects, when you want to update an array stored in state, you need to create a new one (or make a copy of an existing one), and then set state to use the new array.</p>
          <UpdatingArraysWithoutMutation/>
        </>
      )
    }

    function UpdatingArraysWithoutMutation(){
      return(
        <>
          <h2>Updating Arrays Without Mutation</h2>
          <p>In JavaScript, arrays are just another kind of object. <a href={objectLink}>Like with objects</a>, you should treat arrays in React state as read-only. This means that you shouldn't reassign items inside an array like <span className="greyBackground">arr[0] = 'bird'</span> and you also shouldn't use methods that mutate the array, such as <span className="greyBackground">push()</span> and <span className="greyBackground">pop()</span>.</p>
          <p>Instead, every time you want to update an array, you'll want to pass a new array to your state setting function. To do that, <b>you can create a new array from the original array in your state by calling its non-mutating methods</b> like <span className="greyBackground">filter()</span> and <span className="greyBackground">map()</span>. Then you can set your state to the resulting new array.</p>
          <p>Here is a reference table of common array operations. When dealing with arrays inside React state, you will need to avoid the methods in the left column, and instead prefer the metods in the right column:</p>
          <div className="table">
            <div className="column">
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
            </div>
            <div className="column">
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
            </div>
            <div className="column">
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
              <div class="item"></div>
            </div>
          </div>
          <p>Alternatively, you can <a href={immerLink}>use Immer</a> wich lets you use methods from both columns.</p>
        </>
      )
    }

    ReactDOM.render(<UpdatingArraysInState/>, main)
  </script>
</body>
</html>