<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="choosingStateStructure.css">
  <title>Group Related State</title>
</head>
<body>
  <!-- Div for rendering -->
  <div id="main"></div>

  <!-- Scripts for React, React DOM & Babel -->
  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- General Script -->
  <script type="text/jsx">
    const updatingObjectsInState = "https://react.dev/learn/updating-objects-in-state"
    const principlesForStructuringState = "D:/Practica-Next/addingInteractivity/managingState/choosingTheStateStructure/overview-PrinciplesForStructuringState.html"
    function Intro(){
      return (
        <>
          <h1>Group Related State</h1>
          <p>You might sometimes be unsure between using a single or multiple state variables.</p>
          <p>You should do this?</p>
          <div className="card dark-card">
            <p><span className="blue">const</span> [x, setX] = <span className="sky-blue">useState</span>(<span className="red">0</span>)</p>
            <p><span className="blue">const</span> [y, setY] = <span className="sky-blue">useState</span>(<span className="red">0</span>)</p>
          </div>
          <p>Or this?</p>
          <div className="card dark-card">
            <p><span className="blue">const</span> [position, setPosition] = <span className="sky-blue">useState</span>({"{"}<span className="blue">x</span>: <span className="red">0</span>, <span className="blue">y</span>: <span className="red">0</span>{"}"})</p>
          </div>
          <p>Technically, you can use either of these aproaches. But if some two state variables always change together, it might be a good idea to unify them into a single state variable. Then you won't forget to always keep them in sync, like some coordinates. See <a href={updatingObjectsInState}>Updating objects in state - Treat state as read-only</a></p>
          <p>Another case where you'll group data into an object or an array is when you don't know how many pieces of state you'll need. For example, it's helpful when you have a form where the user can add custom fields.</p>
          <div className="card brown-card">
            <h3 className="brown">Pitfall</h3>
            <p>If your state variable is an object, remember that <a href={updatingObjectsInState}>you can't update only one field in it</a> without explicitly copying the other fields. For example, you can't do <span className="bg-grey">setPosition({"{"}x: 100{"}"})</span> in the above example because it would not have the <span className="bg-grey">y</span> property at all! Instead, if you wanted to set <span className="bg-grey">x</span> alone, you would either do <span className="bg-grey">setPosition({"{"} ...position, x: 100{"}"})</span>, or split them into two state variables and do <span className="bg-grey">setX(100)</span>.</p>
          </div>
          <br/>
          <footer>Back to <a href={principlesForStructuringState}>Principles for Structuring State</a></footer>
        </>
      )
    }

    ReactDOM.render(<Intro/>, main)
  </script>
</body>
</html>